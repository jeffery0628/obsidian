---
Create: 2021年 十二月 11日, 星期六 22:02
tags: 
  - linux

---
# ps 查看当前系统进程状态
ps:process status

```
ps -aux | grep xxx		（功能描述：查看系统中所有进程）
ps -ef | grep xxx		（功能描述：可以查看子父进程之间的关系）
```
其中， -a表示选择所有进程，-u显示所有用户的所有进程，-x表示显示没有终端的进程。

## ps -aux 参数说明

![[700 Attachments/720 pictures/Pasted image 20211211220510.png]]
USER：该进程是由哪个用户产生的
  PID：进程的ID号
%CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源；
%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；
VSZ：该进程占用虚拟内存的大小，单位KB；
RSS：该进程占用实际物理内存的大小，单位KB；
TTY：该进程是在哪个终端中运行的。其中tty1-tty7代表本地控制台终端，tty1-tty6是本地的字符界面终端，tty7是图形终端。pts/0-255代表虚拟终端。
STAT：进程状态。常见的状态有：R：运行、S：睡眠、T：停止状态、s：包含子进程、+：位于后台
START：该进程的启动时间
TIME：该进程占用CPU的运算时间，注意不是系统时间
COMMAND：产生此进程的命令名


## ps -ef 参数说明
![[700 Attachments/720 pictures/Pasted image 20211211220712.png]]
UID：用户ID 
==PID==：进程ID 
==PPID==：父进程ID 
C：CPU用于计算执行优先级的因子。数值越大，表明进程是CPU密集型运算，执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高 
STIME：进程启动的时间 
TTY：完整的终端名称 
TIME：CPU时间 
CMD：启动进程所用的命令和参数


## 经验
如果想查看进程的CPU占用率和内存占用率，可以使用aux;
如果想查看进程的父进程ID可以使用ef;

# kill 终止进程
```
kill  [选项] 进程号		（功能描述：通过进程号杀死进程，一般选项值为9，表示强迫进程立即停止）

killall 进程名称	     （功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）	

```
# pstree 查看进程树
```
pstree [选项]
```
其中选项： -p 表示显示进程的pid，-u 表示显示进程的所属用户


# top 查看系统健康状态
```
top [选项]	
```
其中选项： -d 表示指定top命令每隔几秒更新。默认是3秒，-i 表示使top不显示任何闲置或者僵死进程，-p 表示通过指定监控进程ID来仅仅监控某个进程状态

## 操作参数说明
![[700 Attachments/720 pictures/Pasted image 20211211221703.png]]

1. P：以CPU使用率排序，默认就是此项 
2. M：以内存的使用率排序
3. N：以PID排序
4. q：退出top

## 字段解释说明
![[700 Attachments/720 pictures/Pasted image 20211211221703.png]]

### 第一行  系统状态
22：16：57 表示系统当前时间
up  5:14  表示系统的运行时间，本机已经开机运行5小时14分钟
2 user  表示当前登录了两个用户
load average： 0.17，0.15，0.15  表示系统在之前1分钟，5分钟，15分钟的平均负载为 0.17，0.15，0.15，如果大于1表示系统已经超出负载。

### 第二行 进程总览
Tasks：361 total 表示系统中的进程总数
1 running ： 表示正在运行的进程数
359 sleeping ： 表示睡眠的进程
0 stopped： 表示正在停止的进程
1 zombie ： 表示僵尸进程，如果不是0，需要手工检查僵尸进程。

### 第三行 CPU信息
1.6 us ：表示 用户模式占用CPU百分比（1.6%）
0.6 sy：  表示系统模式占用的CPU百分比
0.0 ni ： 表示改变过优先级的用户进程占用的CPU百分比
97.9 id： 表示空闲CPU的百分比
0.0 wa ： 表示等待输入/输出的进程的占用CPU的百分比
0.0 hi ： 表示硬中断请求服务占用CPU的百分比
0.0 si ： 表示软中断请求服务占用的CPU的百分比
0.0 st：表示steal time 虚拟时间百分比，就是当有虚拟机时，虚拟CPU等待实际CPU的时间百分比。

### 第四行 物理内存信息
            

Mem: 64248.3 total  ： 表示物理内存的总量（约64G）
59856.7  free ： 表示空闲的物理内存数量
1691  used  ： 表示 已经使用的物理内存数量
2700.2 buff/cache : 表示作为缓冲的内存数量

### 第五行 交换分区信息
62500.0 total ： 表示交换分区（虚拟内存）的总大小
62500.0 free ： 空闲交换分区大小
0.0 used : 表示已经使用的交换分区大小
61903.6 avail men ： 表示作为缓存的交换分区大小

# netstat 显示网络统计信息和短空占用情况
```
netstat -anp |grep 进程号	（功能描述：查看该进程网络信息）

netstat -nlp	| grep 端口号	（功能描述：查看网络端口号占用情况）
```

其中，-n 表示拒绝显示别名，能显示数字的全部转化成数字，-l表示仅列出有在listen（监听）的服务状态，-p表示显示那个进程在调用