---
Create: 2021年 十月 30日, 星期六 15:00
tags: 
  - Engineering/java
  - 大数据
---
## 协议分类

通信的协议还是比较复杂的，`java.net` 包中包含的类和接口，提供低层次的通信细节。我们可以直接使用这些类和接口，来专注于网络程序开发，而不用考虑通信的细节。`java.net` 包中提供了两种常见的网络协议的支持：

- **UDP**：用户数据报协议(User Datagram Protocol)。UDP是`无连接通信协议`，即在数据传输时，`数据的发送端和接收端不建立逻辑连接`。简单来说，当一台计算机向另外一台计算机发送数据时，发送端不会确认接收端是否存在，就会发出数据，同样接收端在收到数据时，也`不会`向发送端`反馈`是否收到数据。

	由于使用UDP协议消耗资源小，通信效率高，所以通常都会用于音频、视频和普通数据的传输例如视频会议都使用UDP协议，因为这种情况即使偶尔丢失一两个数据包，也不会对接收结果产生太大影响。

	但是在使用UDP协议传送数据时，由于UDP的面向无连接性，不能保证数据的完整性，因此在传输重要数据时不建议使用UDP协议。UDP的交换过程如下图所示。

![UDP通信图解](https://images-1257755739.cos.ap-guangzhou.myqcloud.com/hexo/posts/java-internet/UDP%E9%80%9A%E4%BF%A1%E5%9B%BE%E8%A7%A3.bmp)

特点:数据被限制在`64kb`以内，超出这个范围就不能发送了。

> 数据报(Datagram):网络传输的基本单位 

- **TCP**：传输控制协议 (Transmission Control Protocol)。TCP协议是**面向连接**的通信协议，即传输数据之前，在发送端和接收端建立逻辑连接，然后再传输数据，它提供了两台计算机之间可靠无差错的数据传输。

	在TCP连接中必须要明确客户端与服务器端，由客户端向服务端发出连接请求，每次连接的创建都需要经过“三次握手”。

	- 三次握手：TCP协议中，在发送数据的准备阶段，客户端与服务器之间的三次交互，以保证连接的可靠。
		- 第一次握手，客户端向服务器端发出连接请求，等待服务器确认。
		- 第二次握手，服务器端向客户端回送一个响应，通知客户端收到了连接请求。
		- 第三次握手，客户端再次向服务器端发送确认信息，确认连接。整个交互过程如下图所示。

![](https://images-1257755739.cos.ap-guangzhou.myqcloud.com/hexo/posts/java-internet/4_tcp.jpg)

​    完成三次握手，连接建立后，客户端和服务器就可以开始进行数据传输了。由于这种面向连接的特性，TCP协议可以保证传输数据的安全，所以应用十分广泛，例如下载文件、浏览网页等。

[[200 Areas/230 Engineering/231 java|java 目录]]